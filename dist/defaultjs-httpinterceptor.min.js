!function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=4)}([function(t,e,n){"use strict";const o=[],r={},i={config:{ignoreDocumentOrigin:!0,ignoreOrigins:[]},interceptors:[],doIntercept:function(t,e){return i.config.ignoreDocumentOrigin&&t.origin==document.location.origin?Promise.resolve(t,e):void 0!==i.config.ignoreOrigins&&function(t,e){for(let n=0;n<e.length;n++)if(t.origin==e[n])return!0;return!1}(t,i.config.ignoreOrigins)?Promise.resolve(t,e):function(t,e){let n=r[t.server];if(void 0!==n)return Promise.resolve(n);n=[];let i=[];return o.forEach((function(e){i.push(e.doAccept(t).then((function(t){t&&n.push(e)})))})),Promise.all(i).then((function(){return r[t.origin]=n,n})).catch((function(t){throw t}))}(t).then((function(n){if(void 0===n||0==n.length)return Promise.resolve();let o=[];return n.forEach((function(n){o.push(n.doHandle(t,e))})),Promise.all(o)})).then((function(){return Promise.resolve(t,e)})).catch((function(t){throw t}))},addInterceptor:function(t){if(1!=arguments.length&&"object"!=typeof t)throw new Error("function required an interceptor");if("function"!=typeof t.doAccept)throw new Error('The interceptor required a "doAccept" function!');if("function"!=typeof t.doHandle)throw new Error('The interceptor required a "doHandle" function!');return o.push(t),i}};e.a=i},function(t,e,n){"use strict";e.a={URLSPLITTER:/^((([^:\/]*:)?\/\/)?([^:\/]*)(\:([0-9]*))?)(\/.*)?$/}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var o=function(t){const e=t;let n=void 0;const o=function(){new Promise(e.fetchToken).then((function(t){n=t}))};if(e.refreshInterval>0){const t=o;"function"==typeof e.refreshToken&&(t=function(){Promise.resolve(e.refreshToken()).then((function(t){n=t}))}),setInterval(t,e.refreshInterval||6e4)}return{doAccept:e.doAccept||function(t){return new Promise((function(n){let o=typeof e.condition;if("function"===o)n(e.condition(t));else if("string"===o)n(e.condition==t.origin);else if(e.condition instanceof Array)for(let o=0;o<e.condition.length;o++)e.condition[o]==t.origin&&n(!0);n(!1)}))},doHandle:function(t,o){let r=o instanceof XMLHttpRequest?e.appendOnXhr:e.appendOnFetch;return void 0!==n?Promise.resolve(r(o,n)):Promise.resolve(e.fetchToken(t)).then((function(t){return n=t,Promise.resolve(r(o,n))})).catch((function(t){throw t}))}}};const r=function(t,e){t.headers=t.header||{},t.headers.Authorization="Bearer "+e},i=function(t,e){t.setRequestHeader("Authorization","Bearer "+e)};const c={OAuthInterceptor:function(t){let e=t;return e.fetchToken=function(){return fetch(e.login.url,{method:e.login.method||"get"}).then((function(t){return t.json()})).then((function(t){return t[e.login.response.valueSelector]})).catch((function(t){throw t}))},e.appendOnFetch=r,e.appendOnXhr=i,o(t)},TokenInterceptor:o};e.a=c},function(t,e,n){"use strict";n.r(e);n(5)},function(t,e,n){"use strict";(function(t){n(6),n(7);var e,o=n(0),r=n(3);(e=window||t||self||{}).de=e.defaultjs||{},e.defaultjs=e.defaultjs||{},e.defaultjs.httpinterceptor=e.defaultjs.httpinterceptor||{VERSION:"1.0.0-beta.1",Manager:o.a,interceptors:r.a}}).call(this,n(2))},function(t,e,n){"use strict";var o=n(0),r=n(1);if("undefined"!=typeof XMLHttpRequest){const t=XMLHttpRequest.prototype.open,e=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.open=function(){let e=r.a.URLSPLITTER.exec(arguments[1]);return this.__interceptorRequestData={method:arguments[0],url:arguments[1],origin:e[1]||document.location.origin,protocol:function(t){return void 0===t[2]||"//"==t[3]?document.location.protocol||"http:":t[3]}.call(null,e),hostname:e[4]||document.location.hostname,port:e[6],query:e[7],async:"boolean"!=typeof arguments[2]||arguments[2]},t.apply(this,arguments)},XMLHttpRequest.prototype.send=function(){if(this.__interceptorRequestData.async){let t=function(t){return e.apply(this,t)}.bind(this,arguments);return o.a.doIntercept(this.__interceptorRequestData,this).then((function(e,n){try{return t()}catch(t){throw t}})).catch(console.error),this}return console.warn(new Error("request interceptor don't support syncronized requests")),e.apply(this,arguments)}}},function(t,e,n){"use strict";(function(t){var e=n(0),o=n(1);!function(t){if("function"==typeof t.fetch){const n=t.fetch;t.fetch=function(t,r){let i=function(t){return n.apply(this,t)}.bind(this,arguments),c=r||{},u=o.a.URLSPLITTER.exec(t),f={method:c.method||"GET",url:t,origin:u[1]||document.location.origin,protocol:function(t){return void 0===t[2]||"//"==t[3]?document.location.protocol||"http:":t[3]}.call(null,u),hostname:u[4]||document.location.hostname,port:u[6],query:u[7],async:!0};return e.a.doIntercept(f,c).then((function(){return i()})).catch((function(t){throw t}))}}}(window||t||{})}).call(this,n(2))}]);
//# sourceMappingURL=defaultjs-httpinterceptor.min.js.map